function $LocationDecorator($location,$timeout){return $location.__hash=$location.hash,$location.hash=function(value){return angular.isDefined(value)&&$timeout(function(){var scroll=document.querySelector(".scroll-content");scroll&&(scroll.scrollTop=0)},0,!1),$location.__hash(value)},$location}angular.module("ionic.service",["ionic.service.bind","ionic.service.platform","ionic.service.actionSheet","ionic.service.gesture","ionic.service.loading","ionic.service.modal","ionic.service.popup","ionic.service.templateLoad","ionic.service.view","ionic.decorator.location"]),angular.module("ionic.ui.service",["ionic.ui.service.scrollDelegate","ionic.ui.service.slideBoxDelegate","ionic.ui.service.sideMenuDelegate"]),angular.module("ionic.ui",["ionic.ui.content","ionic.ui.scroll","ionic.ui.tabs","ionic.ui.viewState","ionic.ui.header","ionic.ui.sideMenu","ionic.ui.slideBox","ionic.ui.list","ionic.ui.checkbox","ionic.ui.toggle","ionic.ui.radio","ionic.ui.touch","ionic.ui.popup"]),angular.module("ionic",["ionic.service","ionic.ui.service","ionic.ui","ngAnimate","ngSanitize","ui.router"]),angular.element.prototype.addClass=function(cssClasses){var x,y,cssClass,el,splitClasses,existingClasses;if(cssClasses&&"ng-scope"!=cssClasses&&"ng-isolate-scope"!=cssClasses)for(x=0;x<this.length;x++)if(el=this[x],el.setAttribute)if(cssClasses.indexOf(" ")<0)el.classList.add(cssClasses);else{for(existingClasses=(" "+(el.getAttribute("class")||"")+" ").replace(/[\n\t]/g," "),splitClasses=cssClasses.split(" "),y=0;y<splitClasses.length;y++)cssClass=splitClasses[y].trim(),-1===existingClasses.indexOf(" "+cssClass+" ")&&(existingClasses+=cssClass+" ");el.setAttribute("class",existingClasses.trim())}return this},angular.element.prototype.removeClass=function(cssClasses){var x,y,splitClasses,cssClass,el;if(cssClasses)for(x=0;x<this.length;x++)if(el=this[x],el.getAttribute)if(cssClasses.indexOf(" ")<0)el.classList.remove(cssClasses);else for(splitClasses=cssClasses.split(" "),y=0;y<splitClasses.length;y++)cssClass=splitClasses[y],el.setAttribute("class",(" "+(el.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+cssClass.trim()+" "," ").trim());return this},angular.module("ionic.service.actionSheet",["ionic.service.templateLoad","ionic.service.platform","ionic.ui.actionSheet","ngAnimate"]).factory("$ionicActionSheet",["$rootScope","$document","$compile","$animate","$timeout","$ionicTemplateLoader","$ionicPlatform",function($rootScope,$document,$compile,$animate,$timeout,$ionicTemplateLoader,$ionicPlatform){return{show:function(opts){var scope=$rootScope.$new(!0);angular.extend(scope,opts);var element=$compile('<ion-action-sheet buttons="buttons"></ion-action-sheet>')(scope),sheetEl=angular.element(element[0].querySelector(".action-sheet-wrapper")),hideSheet=function(didCancel){sheetEl.removeClass("action-sheet-up"),didCancel&&$timeout(function(){opts.cancel()},200),$animate.removeClass(element,"active",function(){scope.$destroy()}),$document[0].body.classList.remove("action-sheet-open"),scope.$deregisterBackButton&&scope.$deregisterBackButton()};scope.$deregisterBackButton=$ionicPlatform.registerBackButtonAction(function(){hideSheet()},300),scope.cancel=function(){hideSheet(!0)},scope.buttonClicked=function(index){(opts.buttonClicked&&opts.buttonClicked(index))===!0&&hideSheet(!1)},scope.destructiveButtonClicked=function(){(opts.destructiveButtonClicked&&opts.destructiveButtonClicked())===!0&&hideSheet(!1)},$document[0].body.appendChild(element[0]),$document[0].body.classList.add("action-sheet-open");var sheet=new ionic.views.ActionSheet({el:element[0]});return scope.sheet=sheet,$animate.addClass(element,"active"),$timeout(function(){sheetEl.addClass("action-sheet-up")},20),sheet}}}]),angular.module("ionic.service.bind",[]).factory("$ionicBind",["$parse","$interpolate",function($parse,$interpolate){var LOCAL_REGEXP=/^\s*([@=&])(\??)\s*(\w*)\s*$/;return function(scope,attrs,bindDefinition){angular.forEach(bindDefinition||{},function(definition,scopeName){var parentGet,unwatch,match=definition.match(LOCAL_REGEXP)||[],attrName=match[3]||scopeName,mode=match[1];switch(mode){case"@":if(!attrs[attrName])return;attrs.$observe(attrName,function(value){scope[scopeName]=value}),attrs[attrName]&&(scope[scopeName]=$interpolate(attrs[attrName])(scope));break;case"=":if(!attrs[attrName])return;unwatch=scope.$watch(attrs[attrName],function(value){scope[scopeName]=value}),scope.$on("$destroy",unwatch);break;case"&":if(attrs[attrName]&&attrs[attrName].match(RegExp(scopeName+"(.*?)")))throw new Error('& expression binding "'+scopeName+'" looks like it will recursively call "'+attrs[attrName]+'" and cause a stack overflow! Please choose a different scopeName.');parentGet=$parse(attrs[attrName]),scope[scopeName]=function(locals){return parentGet(scope,locals)}}})}}]),angular.module("ionic.service.gesture",[]).factory("$ionicGesture",[function(){return{on:function(eventType,cb,$element){return window.ionic.onGesture(eventType,cb,$element[0])},off:function(gesture,eventType,cb){return window.ionic.offGesture(gesture,eventType,cb)}}}]),angular.module("ionic.service.loading",["ionic.ui.loading"]).factory("$ionicLoading",["$rootScope","$document","$compile",function($rootScope,$document,$compile){return{show:function(opts){var defaults={content:"",animation:"fade-in",showBackdrop:!0,maxWidth:200,showDelay:0};opts=angular.extend(defaults,opts);var scope=$rootScope.$new(!0);angular.extend(scope,opts);var existing=angular.element($document[0].querySelector(".loading-backdrop"));existing.length&&existing.remove();var element=$compile("<ion-loading>"+opts.content+"</ion-loading>")(scope);$document[0].body.appendChild(element[0]);var loading=new ionic.views.Loading({el:element[0],maxWidth:opts.maxWidth,showDelay:opts.showDelay});return loading.show(),scope.loading=loading,loading}}}]),angular.module("ionic.service.modal",["ionic.service.templateLoad","ionic.service.platform","ionic.ui.modal"]).factory("$ionicModal",["$rootScope","$document","$compile","$timeout","$ionicPlatform","$ionicTemplateLoader",function($rootScope,$document,$compile,$timeout,$ionicPlatform,$ionicTemplateLoader){var ModalView=ionic.views.Modal.inherit({initialize:function(opts){ionic.views.Modal.prototype.initialize.call(this,opts),this.animation=opts.animation||"slide-in-up"},show:function(){var self=this,modalEl=angular.element(self.modalEl);self.el.classList.remove("hide"),$document[0].body.classList.add("modal-open"),self._isShown=!0,self.el.parentElement||(modalEl.addClass(self.animation),$document[0].body.appendChild(self.el)),modalEl.addClass("ng-enter active").removeClass("ng-leave ng-leave-active"),$timeout(function(){modalEl.addClass("ng-enter-active"),self.scope.$parent&&self.scope.$parent.$broadcast("modal.shown"),self.el.classList.add("active")},20),self._deregisterBackButton=$ionicPlatform.registerBackButtonAction(function(){self.hide()},200),ionic.views.Modal.prototype.show.call(self)},hide:function(){var self=this;self._isShown=!1;var modalEl=angular.element(self.modalEl);self.el.classList.remove("active"),modalEl.addClass("ng-leave"),$timeout(function(){modalEl.addClass("ng-leave-active").removeClass("ng-enter ng-enter-active active")},20),$timeout(function(){$document[0].body.classList.remove("modal-open"),self.el.classList.add("hide")},350),ionic.views.Modal.prototype.hide.call(self),self.scope.$parent&&self.scope.$parent.$broadcast("modal.hidden"),self._deregisterBackButton&&self._deregisterBackButton()},remove:function(){var self=this;self.hide(),self.scope.$parent&&self.scope.$parent.$broadcast("modal.removed"),$timeout(function(){self.scope.$destroy(),self.el&&self.el.parentElement&&self.el.parentElement.removeChild(self.el)},750)},isShown:function(){return!!this._isShown}}),createModal=function(templateString,options){var scope=options.scope&&options.scope.$new()||$rootScope.$new(!0),element=$compile("<ion-modal>"+templateString+"</ion-modal>")(scope);options.el=element[0],options.modalEl=options.el.querySelector(".modal");var modal=new ModalView(options);return modal.scope=scope,options.scope||(scope.modal=modal),modal};return{fromTemplate:function(templateString,options){var modal=createModal(templateString,options||{});return modal},fromTemplateUrl:function(url,options,_){var cb;return angular.isFunction(options)&&(cb=options,options=_),$ionicTemplateLoader.load(url).then(function(templateString){var modal=createModal(templateString,options||{});return cb&&cb(modal),modal})}}}]),function(ionic){angular.module("ionic.service.platform",[]).provider("$ionicPlatform",function(){return{$get:["$q","$rootScope",function($q,$rootScope){return{onHardwareBackButton:function(cb){ionic.Platform.ready(function(){document.addEventListener("backbutton",cb,!1)})},offHardwareBackButton:function(fn){ionic.Platform.ready(function(){document.removeEventListener("backbutton",fn)})},registerBackButtonAction:function(fn,priority,actionId){var self=this;self._hasBackButtonHandler||($rootScope.$backButtonActions={},self.onHardwareBackButton(self.hardwareBackButtonClick),self._hasBackButtonHandler=!0);var action={id:actionId?actionId:ionic.Utils.nextUid(),priority:priority?priority:0,fn:fn};return $rootScope.$backButtonActions[action.id]=action,function(){delete $rootScope.$backButtonActions[action.id]}},hardwareBackButtonClick:function(e){var priorityAction,actionId;for(actionId in $rootScope.$backButtonActions)(!priorityAction||$rootScope.$backButtonActions[actionId].priority>=priorityAction.priority)&&(priorityAction=$rootScope.$backButtonActions[actionId]);return priorityAction?(priorityAction.fn(e),priorityAction):void 0},is:function(type){return ionic.Platform.is(type)},ready:function(cb){var q=$q.defer();return ionic.Platform.ready(function(){q.resolve(),cb()}),q.promise}}}]}})}(ionic),function(ionic){angular.module("ionic.service.popup",["ionic.service.templateLoad"]).factory("$ionicPopup",["$rootScope","$q","$document","$compile","$timeout","$ionicTemplateLoader",function($rootScope,$q,$document,$compile,$timeout,$ionicTemplateLoader){var popupOptions={stackPushDelay:50},positionPopup=function(popup){popup.el.style.marginLeft=-popup.el.offsetWidth/2+"px",popup.el.style.marginTop=-popup.el.offsetHeight/2+"px"},hideBody=function(popup){var bodyEl=popup.el.querySelector(".popup-body");bodyEl&&""==bodyEl.innerHTML.trim()&&(bodyEl.style.display="none")},showSinglePopup=function(popup){ionic.requestAnimationFrame(function(){hideBody(popup),positionPopup(popup),popup.el.classList.remove("popup-hidden"),popup.el.classList.add("popup-showing"),popup.el.classList.add("active")})},reshowSinglePopup=function(popup){ionic.requestAnimationFrame(function(){popup.el.classList.remove("popup-hidden"),popup.el.classList.add("popup-showing"),popup.el.classList.add("active")})},hideSinglePopup=function(popup){ionic.requestAnimationFrame(function(){popup.el.classList.remove("active"),popup.el.classList.add("popup-hidden")})},removeSinglePopup=function(popup){popup.el.offsetWidth,popup.el.classList.remove("active"),popup.el.classList.add("popup-hidden"),$timeout(function(){popup.el.remove()},400)},popupStack=[],backdropEl=null,showBackdrop=function(){var el=$compile("<ion-popup-backdrop></ion-popup-backdrop>")($rootScope.$new(!0));$document[0].body.appendChild(el[0]),backdropEl=el},removeBackdrop=function(){backdropEl.remove()},pushAndShow=function(popup){var lastPopup=popupStack[popupStack.length-1];popupStack.push(popup),1==popupStack.length&&showBackdrop(),lastPopup?(hideSinglePopup(lastPopup),$timeout(function(){showSinglePopup(popup)},popupOptions.stackPushDelay)):showSinglePopup(popup)},popAndRemove=function(){var lastPopup=popupStack.pop(),nextPopup=popupStack[popupStack.length-1];removeSinglePopup(lastPopup),nextPopup?reshowSinglePopup(nextPopup):removeBackdrop()},constructPopupOnScope=function(element,scope){var popup={el:element[0],scope:scope};return scope.popup=popup,popup},buildPopupTemplate=function(opts,content){return'<ion-popup title="'+opts.title+'" buttons="buttons" on-button-tap="onButtonTap(button, event)" on-close="onClose(button, result, event)">'+(content||"")+"</ion-popup>"},createPopup=function(opts,responseDeferred){var q=$q.defer(),defaults={title:"",animation:"fade-in"};opts=angular.extend(defaults,opts);var scope=opts.scope&&opts.scope.$new()||$rootScope.$new(!0);if(angular.extend(scope,opts),scope.onClose=function(button,result){popAndRemove(scope.popup),responseDeferred.resolve(result)},opts.templateUrl)$ionicTemplateLoader.load(opts.templateUrl).then(function(templateString){var popupTemplate=buildPopupTemplate(opts,templateString),element=$compile(popupTemplate)(scope);$document[0].body.appendChild(element[0]),q.resolve(constructPopupOnScope(element,scope))},function(err){q.reject(err)});else{var popupTemplate=buildPopupTemplate(opts,opts.content),element=$compile(popupTemplate)(scope);$document[0].body.appendChild(element[0]),q.resolve(constructPopupOnScope(element,scope))}return q.promise};return{showPopup:function(data){var q=$q.defer();return createPopup(data,q).then(function(popup){pushAndShow(popup,data)},function(err){console.error("Unable to load popup:",err)}),q.promise},show:function(data){return this.showPopup(data)},alert:function(opts){return this.showPopup({content:opts.content||"",title:opts.title||"",buttons:[{text:opts.okText||"OK",type:opts.okType||"button-positive",onTap:function(){return!0}}]})},confirm:function(opts){return this.showPopup({content:opts.content||"",title:opts.title||"",buttons:[{text:opts.cancelText||"Cancel",type:opts.cancelType||"button-default",onTap:function(e){e.preventDefault()}},{text:opts.okText||"OK",type:opts.okType||"button-positive",onTap:function(){return!0}}]})},prompt:function(opts){var scope=$rootScope.$new(!0);return scope.data={},this.showPopup({content:opts.content||'<input ng-model="data.response" type="'+(opts.inputType||"text")+'" placeholder="'+(opts.inputPlaceholder||"")+'">',title:opts.title||"",subTitle:opts.subTitle||"",scope:scope,buttons:[{text:opts.cancelText||"Cancel",type:opts.cancelType||"button-default",onTap:function(e){e.preventDefault()}},{text:opts.okText||"OK",type:opts.okType||"button-positive",onTap:function(){return scope.data.response}}]})}}}])}(ionic),angular.module("ionic.service.templateLoad",[]).factory("$ionicTemplateLoader",["$q","$http","$templateCache",function($q,$http,$templateCache){return{load:function(url){return $http.get(url,{cache:$templateCache}).then(function(response){return response.data&&response.data.trim()})}}}]),angular.module("ionic.service.view",["ui.router","ionic.service.platform"]).run(["$rootScope","$state","$location","$document","$animate","$ionicPlatform",function($rootScope,$state,$location,$document,$animate,$ionicPlatform){function onHardwareBackButton(e){return $rootScope.$viewHistory.backView?$rootScope.$viewHistory.backView.go():ionic.Platform.exitApp(),e.preventDefault(),!1}$rootScope.$viewHistory={histories:{root:{historyId:"root",parentHistoryId:null,stack:[],cursor:-1}},views:{},backView:null,forwardView:null,currentView:null,disabledRegistrableTagNames:[]},$rootScope.$on("viewState.changeHistory",function(e,data){if(data){var hist=data.historyId?$rootScope.$viewHistory.histories[data.historyId]:null;if(hist&&hist.cursor>-1&&hist.cursor<hist.stack.length){var view=hist.stack[hist.cursor];return view.go(data)}!data.url&&data.uiSref&&(data.url=$state.href(data.uiSref)),data.url&&(0===data.url.indexOf("#")&&(data.url=data.url.replace("#","")),data.url!==$location.url()&&$location.url(data.url))}}),$rootScope.$on("viewState.viewEnter",function(e,data){data&&data.title&&($document[0].title=data.title)}),$ionicPlatform.registerBackButtonAction(onHardwareBackButton,100)}]).factory("$ionicViewService",["$rootScope","$state","$location","$window","$injector",function($rootScope,$state,$location,$window,$injector){function createViewId(){return ionic.Utils.nextUid()}var $animate=$injector.has("$animate")?$injector.get("$animate"):!1,View=function(){};return View.prototype.initialize=function(data){if(data){for(var name in data)this[name]=data[name];return this}return null},View.prototype.go=function(){return this.stateName?$state.go(this.stateName,this.stateParams):this.url&&this.url!==$location.url()?$rootScope.$viewHistory.backView===this?$window.history.go(-1):$rootScope.$viewHistory.forwardView===this?$window.history.go(1):void $location.url(this.url):null},View.prototype.destroy=function(){this.scope&&(this.scope.$destroy&&this.scope.$destroy(),this.scope=null)},{register:function(containerScope,element){var viewHistory=$rootScope.$viewHistory,currentStateId=this.getCurrentStateId(),hist=this._getHistory(containerScope),currentView=viewHistory.currentView,backView=viewHistory.backView,forwardView=viewHistory.forwardView,rsp={viewId:null,navAction:null,navDirection:null,historyId:hist.historyId};if(element&&!this.isTagNameRegistrable(element))return rsp.navAction="disabledByTagName",rsp;if(currentView&&currentView.stateId===currentStateId&&currentView.historyId===hist.historyId)return rsp.navAction="noChange",rsp;if(viewHistory.forcedNav)ionic.Utils.extend(rsp,viewHistory.forcedNav),$rootScope.$viewHistory.forcedNav=null;else if(backView&&backView.stateId===currentStateId)rsp.viewId=backView.viewId,rsp.navAction="moveBack",currentView.scrollValues={},backView.historyId===currentView.historyId&&(rsp.navDirection="back");else if(forwardView&&forwardView.stateId===currentStateId){rsp.viewId=forwardView.viewId,rsp.navAction="moveForward",forwardView.historyId===currentView.historyId&&(rsp.navDirection="forward");var parentHistory=this._getParentHistoryObj(containerScope);forwardView.historyId&&parentHistory.scope&&(parentHistory.scope.$historyId=forwardView.historyId,rsp.historyId=forwardView.historyId)}else if(currentView&&currentView.historyId!==hist.historyId&&hist.cursor>-1&&hist.stack.length>0&&hist.cursor<hist.stack.length&&hist.stack[hist.cursor].stateId===currentStateId)rsp.viewId=hist.stack[hist.cursor].viewId,rsp.navAction="moveBack";else{if(rsp.viewId=createViewId(currentStateId),currentView){if(currentView.forwardViewId=rsp.viewId,hist.historyId===currentView.historyId&&(rsp.navDirection="forward"),rsp.navAction="newView",forwardView&&currentView.stateId!==forwardView.stateId){var forwardsHistory=this._getHistoryById(forwardView.historyId);if(forwardsHistory)for(var x=forwardsHistory.stack.length-1;x>=forwardView.index;x--)forwardsHistory.stack[x].destroy(),forwardsHistory.stack.splice(x)}}else rsp.navAction="initialView";viewHistory.views[rsp.viewId]=this.createView({viewId:rsp.viewId,index:hist.stack.length,historyId:hist.historyId,backViewId:currentView&&currentView.viewId?currentView.viewId:null,forwardViewId:null,stateId:currentStateId,stateName:this.getCurrentStateName(),stateParams:this.getCurrentStateParams(),url:$location.url(),scrollValues:null}),hist.stack.push(viewHistory.views[rsp.viewId])}return this.setNavViews(rsp.viewId),hist.cursor=viewHistory.currentView.index,rsp},setNavViews:function(viewId){var viewHistory=$rootScope.$viewHistory;viewHistory.currentView=this._getViewById(viewId),viewHistory.backView=this._getBackView(viewHistory.currentView),viewHistory.forwardView=this._getForwardView(viewHistory.currentView),$rootScope.$broadcast("$viewHistory.historyChange",{showBack:viewHistory.backView&&viewHistory.backView.historyId===viewHistory.currentView.historyId})},registerHistory:function(scope){scope.$historyId=ionic.Utils.nextUid()},createView:function(data){var newView=new View;return newView.initialize(data)},getCurrentView:function(){return $rootScope.$viewHistory.currentView},getBackView:function(){return $rootScope.$viewHistory.backView},getForwardView:function(){return $rootScope.$viewHistory.forwardView},getNavDirection:function(){return $rootScope.$viewHistory.navDirection},getCurrentStateName:function(){return $state&&$state.current?$state.current.name:null},isCurrentStateNavView:function(navView){return $state&&$state.current&&$state.current.views&&$state.current.views[navView]?!0:!1},getCurrentStateParams:function(){var rtn;if($state&&$state.params)for(var key in $state.params)$state.params.hasOwnProperty(key)&&(rtn=rtn||{},rtn[key]=$state.params[key]);return rtn},getCurrentStateId:function(){var id;if($state&&$state.current&&$state.current.name){if(id=$state.current.name,$state.params)for(var key in $state.params)$state.params.hasOwnProperty(key)&&$state.params[key]&&(id+="_"+key+"="+$state.params[key]);return id}return ionic.Utils.nextUid()},goToHistoryRoot:function(historyId){if(historyId){var hist=$rootScope.$viewHistory.histories[historyId];if(hist&&hist.stack.length){if($rootScope.$viewHistory.currentView&&$rootScope.$viewHistory.currentView.viewId===hist.stack[0].viewId)return;$rootScope.$viewHistory.forcedNav={viewId:hist.stack[0].viewId,navAction:"moveBack",navDirection:"back"},hist.stack[0].go()}}},_getViewById:function(viewId){return viewId?$rootScope.$viewHistory.views[viewId]:null},_getBackView:function(view){return view?this._getViewById(view.backViewId):null},_getForwardView:function(view){return view?this._getViewById(view.forwardViewId):null},_getHistoryById:function(historyId){return historyId?$rootScope.$viewHistory.histories[historyId]:null},_getHistory:function(scope){var histObj=this._getParentHistoryObj(scope);return $rootScope.$viewHistory.histories[histObj.historyId]||($rootScope.$viewHistory.histories[histObj.historyId]={historyId:histObj.historyId,parentHistoryId:this._getParentHistoryObj(histObj.scope.$parent).historyId,stack:[],cursor:-1}),$rootScope.$viewHistory.histories[histObj.historyId]},_getParentHistoryObj:function(scope){for(var parentScope=scope;parentScope;){if(parentScope.hasOwnProperty("$historyId"))return{historyId:parentScope.$historyId,scope:parentScope};parentScope=parentScope.$parent}return{historyId:"root",scope:$rootScope}},getRenderer:function(navViewElement,navViewAttrs,navViewScope){function getParentAnimationClass(el){for(var className="";!className&&el;)className=el.getAttribute("animation"),el=el.parentElement;return className}function setAnimationClass(){animationClass&&navViewElement[0].classList.add(animationClass),"back"===registerData.navDirection?navViewElement[0].classList.add("reverse"):navViewElement[0].classList.remove("reverse")}var registerData,doAnimation,service=this,animationClass=angular.isDefined(navViewScope.$nextAnimation)?navViewScope.$nextAnimation:getParentAnimationClass(navViewElement[0]);return navViewScope.$nextAnimation=void 0,function(shouldAnimate){return{enter:function(element){return doAnimation&&shouldAnimate?(setAnimationClass(),element.addClass("ng-enter"),document.body.classList.add("disable-pointer-events"),void $animate.enter(element,navViewElement,null,function(){document.body.classList.remove("disable-pointer-events"),animationClass&&navViewElement[0].classList.remove(animationClass)})):void navViewElement.append(element)},leave:function(){var element=navViewElement.contents();return doAnimation&&shouldAnimate?(setAnimationClass(),void $animate.leave(element,function(){element.remove()})):void element.remove()},register:function(element){return registerData=service.register(navViewScope,element),doAnimation=null!==animationClass&&null!==registerData.navDirection,registerData}}}},disableRegisterByTagName:function(tagName){$rootScope.$viewHistory.disabledRegistrableTagNames.push(tagName.toUpperCase())},isTagNameRegistrable:function(element){var x,y,disabledTags=$rootScope.$viewHistory.disabledRegistrableTagNames;for(x=0;x<element.length;x++)if(1===element[x].nodeType)for(y=0;y<disabledTags.length;y++)if(element[x].tagName===disabledTags[y])return!1;return!0},clearHistory:function(){var histories=$rootScope.$viewHistory.histories,currentView=$rootScope.$viewHistory.currentView;for(var historyId in histories)histories[historyId].stack&&(histories[historyId].stack=[],histories[historyId].cursor=-1),currentView.historyId===historyId?(currentView.backViewId=null,currentView.forwardViewId=null,histories[historyId].stack.push(currentView)):histories[historyId].destroy&&histories[historyId].destroy();for(var viewId in $rootScope.$viewHistory.views)viewId!==currentView.viewId&&delete $rootScope.$viewHistory.views[viewId];this.setNavViews(currentView.viewId)}}}]),angular.module("ionic.decorator.location",[]).config(["$provide",function($provide){$provide.decorator("$location",["$delegate","$timeout",$LocationDecorator])}]),function(){angular.module("ionic.ui.service.scrollDelegate",[]).factory("$ionicScrollDelegate",["$rootScope","$timeout","$q","$anchorScroll","$location","$document",function($rootScope,$timeout,$q,$anchorScroll,$location){return{scrollTop:function(animate){$rootScope.$broadcast("scroll.scrollTop",animate)},scrollBottom:function(animate){$rootScope.$broadcast("scroll.scrollBottom",animate)},scrollTo:function(left,top,animate){$rootScope.$broadcast("scroll.scrollTo",left,top,animate)},anchorScroll:function(animate){$rootScope.$broadcast("scroll.anchorScroll",animate)},resize:function(){$rootScope.$broadcast("scroll.resize")},tapScrollToTop:function(element,animate){var _this=this;angular.isDefined(animate)||(animate=!0),ionic.on("tap",function(e){var target=e.target;if(!ionic.DomUtil.getParentOrSelfWithClass(target,"button")){var el=element[0],bounds=el.getBoundingClientRect();ionic.DomUtil.rectContains(e.gesture.touches[0].pageX,e.gesture.touches[0].pageY,bounds.left,bounds.top,bounds.left+bounds.width,bounds.top+20)&&_this.scrollTop(animate)}},element[0])},finishRefreshing:function($scope){$scope.$broadcast("scroll.refreshComplete")},getScrollView:function($scope){return $scope.scrollView},register:function($scope,$element,scrollView){function scrollViewResize(){return $timeout(function(){scrollView.resize()})}var scrollEl=$element[0];$element.on("scroll",function(e){var detail=(e.originalEvent||e).detail||{};$scope.$onScroll&&$scope.$onScroll({event:e,scrollTop:detail.scrollTop||0,scrollLeft:detail.scrollLeft||0})}),$scope.$parent.$on("scroll.resize",scrollViewResize),$scope.$parent.$on("scroll.refreshComplete",function(){scrollView.finishPullToRefresh()}),$scope.$parent.$on("scroll.anchorScroll",function(e,animate){scrollViewResize().then(function(){var elm,hash=$location.hash();if(hash&&(elm=document.getElementById(hash))){var scroll=ionic.DomUtil.getPositionInParent(elm,scrollEl);scrollView.scrollTo(scroll.left,scroll.top,!!animate)}else scrollView.scrollTo(0,0,!!animate)})}),$scope.$parent.$on("scroll.scrollTo",function(e,left,top,animate){scrollViewResize().then(function(){scrollView.scrollTo(left,top,!!animate)})}),$scope.$parent.$on("scroll.scrollTop",function(e,animate){scrollViewResize().then(function(){scrollView.scrollTo(0,0,!!animate)})}),$scope.$parent.$on("scroll.scrollBottom",function(e,animate){scrollViewResize().then(function(){var sv=scrollView;if(sv){var max=sv.getScrollMax();sv.scrollTo(max.left,max.top,!!animate)}})})}}}])}(ionic),function(){angular.module("ionic.ui.service.sideMenuDelegate",[]).factory("$ionicSideMenuDelegate",["$rootScope","$timeout","$q",function(){return{getSideMenuController:function($scope){return $scope.sideMenuController},close:function($scope){$scope.sideMenuController&&$scope.sideMenuController.close()},toggleLeft:function($scope){$scope.sideMenuController&&$scope.sideMenuController.toggleLeft()},toggleRight:function($scope){$scope.sideMenuController&&$scope.sideMenuController.toggleRight()},openLeft:function($scope){$scope.sideMenuController&&$scope.sideMenuController.openPercentage(100)},openRight:function($scope){$scope.sideMenuController&&$scope.sideMenuController.openPercentage(-100)}}}])}(),function(){angular.module("ionic.ui.service.slideBoxDelegate",[]).factory("$ionicSlideBoxDelegate",["$rootScope","$timeout",function($rootScope,$timeout){return{update:function(){$rootScope.$broadcast("slideBox.update")},register:function($scope){$scope.$parent.$on("slideBox.update",function(e){e.defaultPrevented||($timeout(function(){$scope.$parent.slideBoxController.setup()}),e.preventDefault())})}}}])}(ionic),function(){angular.module("ionic.ui.actionSheet",[]).directive("ionActionSheet",["$document",function($document){return{restrict:"E",scope:!0,replace:!0,link:function($scope,$element){var keyUp=function(e){27==e.which&&($scope.cancel(),$scope.$apply())},backdropClick=function(e){e.target==$element[0]&&($scope.cancel(),$scope.$apply())};$scope.$on("$destroy",function(){$element.remove(),$document.unbind("keyup",keyUp)}),$document.bind("keyup",keyUp),$element.bind("click",backdropClick)},template:'<div class="action-sheet-backdrop"><div class="action-sheet-wrapper"><div class="action-sheet"><div class="action-sheet-group"><div class="action-sheet-title" ng-if="titleText">{{titleText}}</div><button class="button" ng-click="buttonClicked($index)" ng-repeat="button in buttons">{{button.text}}</button></div><div class="action-sheet-group" ng-if="destructiveText"><button class="button destructive" ng-click="destructiveButtonClicked()">{{destructiveText}}</button></div><div class="action-sheet-group" ng-if="cancelText"><button class="button" ng-click="cancel()">{{cancelText}}</button></div></div></div></div>'}}])}(),function(ionic){angular.module("ionic.ui.header",["ngAnimate","ngSanitize"]).directive("barHeader",["$ionicScrollDelegate",function($ionicScrollDelegate){return{restrict:"C",link:function($scope,$element){$ionicScrollDelegate.tapScrollToTop($element)}}}]).directive("ionHeaderBar",["$ionicScrollDelegate",function(){return{restrict:"E",replace:!0,transclude:!0,template:'<header class="bar bar-header">                <div class="buttons">                  <button ng-repeat="button in leftButtons" class="button no-animation" ng-class="button.type" ng-click="button.tap($event, $index)" ng-bind-html="button.content">                  </button>                </div>                <h1 class="title" ng-bind-html="title"></h1>                <div class="buttons">                  <button ng-repeat="button in rightButtons" class="button no-animation" ng-class="button.type" ng-click="button.tap($event, $index)" ng-bind-html="button.content">                  </button>                </div>              </header>',scope:{leftButtons:"=",rightButtons:"=",title:"@",type:"@",alignTitle:"@"},link:function($scope,$element){var hb=new ionic.views.HeaderBar({el:$element[0],alignTitle:$scope.alignTitle||"center"});$element.addClass($scope.type),$scope.headerBarView=hb,$scope.$watchCollection("leftButtons",function(){hb.align()}),$scope.$watchCollection("rightButtons",function(){hb.align()}),$scope.$watch("title",function(){hb.align()})}}}]).directive("ionFooterBar",function(){return{restrict:"E",replace:!0,transclude:!0,template:'<footer class="bar bar-footer" ng-transclude>              </footer>',scope:{type:"@"},link:function($scope,$element){$element.addClass($scope.type)}}})}(ionic),function(){angular.module("ionic.ui.checkbox",[]).directive("ionCheckbox",function(){return{restrict:"E",replace:!0,require:"?ngModel",scope:{ngModel:"=?",ngValue:"=?",ngChecked:"=?",ngChange:"&"},transclude:!0,template:'<div class="item item-checkbox disable-pointer-events"><label class="checkbox enable-pointer-events"><input type="checkbox" ng-model="ngModel" ng-value="ngValue" ng-change="ngChange()"></label><div class="item-content" ng-transclude></div></div>',compile:function(element,attr){var input=element.find("input");attr.name&&input.attr("name",attr.name),attr.ngChecked&&input.attr("ng-checked","ngChecked"),attr.ngTrueValue&&input.attr("ng-true-value",attr.ngTrueValue),attr.ngFalseValue&&input.attr("ng-false-value",attr.ngFalseValue)}}})}(),function(){angular.module("ionic.ui.content",["ionic.ui.service","ionic.ui.scroll"]).directive("ionPane",function(){return{restrict:"E",link:function(scope,element){element.addClass("pane")}}}).directive("ionContent",["$parse","$timeout","$ionicScrollDelegate","$controller","$ionicBind",function($parse,$timeout,$ionicScrollDelegate,$controller,$ionicBind){return{restrict:"E",replace:!0,transclude:!0,require:"^?ionNavView",scope:!0,template:'<div class="scroll-content"><div class="scroll"></div></div>',compile:function(element,attr,transclude){function prelink($scope,$element,$attr){var scrollView,scrollCtrl,scrollContent=angular.element($element[0].querySelector(".scroll"));
$ionicBind($scope,$attr,{$onScroll:"&onScroll",$onScrollComplete:"&onScrollComplete",hasBouncing:"@",scroll:"@",padding:"@",hasScrollX:"@",hasScrollY:"@",scrollbarX:"@",scrollbarY:"@",startX:"@",startY:"@",scrollEventInterval:"@"}),"false"===$scope.scroll||("true"===attr.overflowScroll?$element.addClass("overflow-scroll"):(scrollCtrl=$controller("$ionicScroll",{$scope:$scope,scrollViewOptions:{el:$element[0],bouncing:$scope.$eval($scope.hasBouncing),startX:$scope.$eval($scope.startX)||0,startY:$scope.$eval($scope.startY)||0,scrollbarX:$scope.$eval($scope.scrollbarX)!==!1,scrollbarY:$scope.$eval($scope.scrollbarY)!==!1,scrollingX:$scope.$eval($scope.hasScrollX)===!0,scrollingY:$scope.$eval($scope.hasScrollY)!==!1,scrollEventInterval:parseInt($scope.scrollEventInterval,10)||20,scrollingComplete:function(){$scope.$onScrollComplete({scrollTop:this.__scrollTop,scrollLeft:this.__scrollLeft})}}}),scrollView=$scope.$parent.scrollView=scrollCtrl.scrollView,$scope.$on("$viewContentLoaded",function(e,viewHistoryData){viewHistoryData||(viewHistoryData={});var scroll=viewHistoryData.scrollValues;scroll&&$timeout(function(){scrollView.scrollTo(+scroll.left||null,+scroll.top||null)},0),$scope.$on("$destroy",function(){viewHistoryData.scrollValues=scrollView.getValues()})}))),transclude($scope,function(clone){scrollCtrl&&clone.data("$$ionicScrollController",scrollCtrl),scrollContent.append(clone)})}return"true"==attr.hasHeader&&element.addClass("has-header"),"true"==attr.hasSubheader&&element.addClass("has-subheader"),"true"==attr.hasFooter&&element.addClass("has-footer"),"true"==attr.hasTabs&&element.addClass("has-tabs"),"true"==attr.padding&&element.find("div").addClass("padding"),{pre:prelink}}}}]).directive("ionRefresher",["$ionicBind",function($ionicBind){return{restrict:"E",replace:!0,require:"^$ionicScroll",template:'<div class="scroll-refresher"><div class="ionic-refresher-content"><i class="icon {{pullingIcon}} icon-pulling"></i><span class="icon-pulling" ng-bind-html="pullingText"></span><i class="icon {{refreshingIcon}} icon-refreshing"></i><span class="icon-refreshing" ng-bind-html="refreshingText"></span></div></div>',compile:function($element,$attrs){return angular.isUndefined($attrs.pullingIcon)&&$attrs.$set("pullingIcon","ion-arrow-down-c"),angular.isUndefined($attrs.refreshingIcon)&&$attrs.$set("refreshingIcon","ion-loading-d"),function($scope,$element,$attrs,scrollCtrl){$ionicBind($scope,$attrs,{pullingIcon:"@",pullingText:"@",refreshingIcon:"@",refreshingText:"@",$onRefresh:"&onRefresh",$onPulling:"&onPulling"}),scrollCtrl.setRefresher($scope,$element[0]),$scope.$on("scroll.refreshComplete",function(){$element[0].classList.remove("active"),scrollCtrl.scrollView.finishPullToRefresh()})}}}}]).directive("ionInfiniteScroll",["$timeout",function($timeout){return{restrict:"E",require:["^$ionicScroll","ionInfiniteScroll"],template:'<div class="scroll-infinite"><div class="scroll-infinite-content"><i class="icon {{icon()}} icon-refreshing"></i></div></div>',scope:!0,controller:["$scope","$attrs",function($scope,$attrs){this.isLoading=!1,this.scrollView=null,this.getMaxScroll=function(){var dist=$attrs.distance||"1%";return dist.indexOf("%")>-1?this.scrollView.getScrollMax().top*(1-parseInt(dist,10)/100):this.scrollView.getScrollMax().top-parseInt(dist,10)}}],link:function($scope,$element,$attrs,ctrls){var scrollCtrl=ctrls[0],infiniteScrollCtrl=ctrls[1],scrollView=infiniteScrollCtrl.scrollView=scrollCtrl.scrollView;$scope.icon=function(){return angular.isDefined($attrs.icon)?$attrs.icon:"ion-loading-d"},$scope.$on("scroll.infiniteScrollComplete",function(){$element[0].classList.remove("active"),$timeout(function(){scrollView.resize()},0,!1),infiniteScrollCtrl.isLoading=!1}),scrollCtrl.$element.on("scroll",ionic.animationFrameThrottle(function(){!infiniteScrollCtrl.isLoading&&scrollView.getValues().top>=infiniteScrollCtrl.getMaxScroll()&&($element[0].classList.add("active"),infiniteScrollCtrl.isLoading=!0,$scope.$parent.$apply($attrs.onInfinite||""))}))}}}])}(),function(){angular.module("ionic.ui.list",["ngAnimate"]).directive("ionItem",["$timeout","$parse",function(){return{restrict:"E",require:"?^ionList",replace:!0,transclude:!0,scope:{item:"=",itemType:"@",canDelete:"@",canReorder:"@",canSwipe:"@",onDelete:"&",optionButtons:"&",deleteIcon:"@",reorderIcon:"@"},template:'<div class="item item-complex">            <div class="item-edit" ng-if="deleteClick !== undefined">              <button class="button button-icon icon" ng-class="deleteIconClass" ng-click="deleteClick()" ion-stop-event="click"></button>            </div>            <a class="item-content" ng-href="{{ href }}" ng-transclude></a>            <div class="item-drag" ng-if="reorderIconClass !== undefined">              <button data-ionic-action="reorder" class="button button-icon icon" ng-class="reorderIconClass"></button>            </div>            <div class="item-options" ng-if="itemOptionButtons">             <button ng-click="b.onTap(item, b)" ion-stop-event="click" class="button" ng-class="b.type" ng-repeat="b in itemOptionButtons" ng-bind="b.text"></button>           </div>          </div>',link:function($scope,$element,$attr,list){if(list){var $parentScope=list.scope,$parentAttrs=list.attrs;$attr.$observe("href",function(value){value&&($scope.href=value.trim())}),$scope.itemType||($scope.itemType=$parentScope.itemType),$element.addClass($scope.itemType||$parentScope.itemType),$scope.itemClass=$scope.itemType,"false"!==($attr.canDelete?$scope.canDelete:$parentScope.canDelete)&&($attr.onDelete||$parentAttrs.onDelete)&&($scope.deleteClick=function(){$attr.onDelete?$scope.onDelete({item:$scope.item}):$parentAttrs.onDelete&&$parentScope.onDelete({item:$scope.item})},$scope.deleteIconClass=$scope.deleteIcon||$parentScope.deleteIcon||"ion-minus-circled"),"true"===($attr.canReorder?$scope.canReorder:$parentScope.canReorder)&&($scope.reorderIconClass=$scope.reorderIcon||$parentScope.reorderIcon||"ion-navicon"),"false"!==($attr.canSwipe?$scope.canSwipe:$parentScope.canSwipe)&&($scope.itemOptionButtons=$scope.optionButtons(),"undefined"==typeof $scope.itemOptionButtons&&($scope.itemOptionButtons=$parentScope.optionButtons()))}}}}]).directive("ionList",["$timeout",function($timeout){return{restrict:"E",replace:!0,transclude:!0,require:"^?$ionicScroll",scope:{itemType:"@",canDelete:"@",canReorder:"@",canSwipe:"@",showDelete:"=",showReorder:"=",onDelete:"&",onReorder:"&",optionButtons:"&",deleteIcon:"@",reorderIcon:"@"},template:"<div class=\"list\" ng-class=\"{'list-editing': showDelete, 'list-reordering': showReorder}\" ng-transclude></div>",controller:["$scope","$attrs",function($scope,$attrs){this.scope=$scope,this.attrs=$attrs}],link:function($scope,$element,$attr,ionicScrollCtrl){$scope.listView=new ionic.views.ListView({el:$element[0],listEl:$element[0].children[0],scrollEl:ionicScrollCtrl&&ionicScrollCtrl.element,scrollView:ionicScrollCtrl&&ionicScrollCtrl.scrollView,onReorder:function(el,oldIndex,newIndex){$scope.$apply(function(){$scope.onReorder({el:el,start:oldIndex,end:newIndex})})}}),$attr.animation&&$element[0].classList.add($attr.animation);var destroyShowReorderWatch=$scope.$watch("showReorder",function(val){val?$element[0].classList.add("item-options-hide"):val===!1&&$timeout(function(){$element[0].classList.remove("item-options-hide")},250)});$scope.$on("$destroy",function(){destroyShowReorderWatch()})}}}])}(),function(){angular.module("ionic.ui.loading",[]).directive("ionLoading",function(){return{restrict:"E",replace:!0,transclude:!0,link:function($scope,$element){$element.addClass($scope.animation||"")},template:'<div class="loading-backdrop" ng-class="{enabled: showBackdrop}"><div class="loading" ng-transclude></div></div>'}})}(),function(){angular.module("ionic.ui.modal",[]).directive("ionModal",[function(){return{restrict:"E",transclude:!0,replace:!0,template:'<div class="modal-backdrop"><div class="modal-wrapper" ng-transclude></div></div>'}}])}(),function(){angular.module("ionic.ui.navAnimation",[]).directive("ionNavAnimation",function(){return{restrict:"A",require:"^?ionNavView",link:function($scope,$element,$attrs,navViewCtrl){navViewCtrl&&ionic.on("tap",function(){navViewCtrl.setNextAnimation($attrs.ionNavAnimation)},$element[0])}}})}(),function(){angular.module("ionic.ui.popup",[]).directive("ionPopupBackdrop",function(){return{restrict:"E",replace:!0,template:'<div class="popup-backdrop"></div>'}}).directive("ionPopup",["$ionicBind",function($ionicBind){return{restrict:"E",replace:!0,transclude:!0,scope:!0,link:function($scope,$element,$attr){$ionicBind($scope,$attr,{title:"@",buttons:"=",$onButtonTap:"&onButtonTap",$onClose:"&onClose"}),$scope._buttonTapped=function(button,event){var result=button.onTap&&button.onTap(event);return event.defaultPrevented?$scope.$onClose({button:button,result:!1,event:event}):result?$scope.$onClose({button:button,result:result,event:event}):void $scope.$onButtonTap({button:button,event:event})}},template:'<div class="popup"><div class="popup-head"><h3 class="popup-title" ng-bind-html="title"></h3><h5 class="popup-sub-title" ng-bind-html="subTitle" ng-if="subTitle"></h5></div><div class="popup-body" ng-transclude></div><div class="popup-buttons row"><button ng-repeat="button in buttons" ng-click="_buttonTapped(button, $event)" class="button col" ng-class="button.type || \'button-default\'" ng-bind-html="button.text"></button></div></div>'}}])}(),function(ionic){angular.module("ionic.ui.radio",[]).directive("ionRadio",function(){return{restrict:"E",replace:!0,require:"?ngModel",scope:{ngModel:"=?",ngValue:"=?",ngChange:"&",icon:"@"},transclude:!0,template:'<label class="item item-radio"><input type="radio" name="radio-group" ng-model="ngModel" ng-value="ngValue" ng-change="ngChange()"><div class="item-content disable-pointer-events" ng-transclude></div><i class="radio-icon disable-pointer-events icon ion-checkmark"></i></label>',compile:function(element,attr){attr.name&&element.children().eq(0).attr("name",attr.name),attr.icon&&element.children().eq(2).removeClass("ion-checkmark").addClass(attr.icon)}}}).directive("ionRadioButtons",function(){return{restrict:"E",replace:!0,require:"?ngModel",scope:{value:"@"},transclude:!0,template:'<div class="button-bar button-bar-inline" ng-transclude></div>',controller:["$scope","$element",function($scope,$element){this.select=function(element){for(var c,children=$element.children(),i=0;i<children.length;i++)c=children[i],c!=element[0]&&c.classList.remove("active")}}],link:function($scope,$element,$attr,ngModel){ngModel&&(ngModel.$render=function(){for(var children=$element.children(),i=0;i<children.length;i++)children[i].classList.remove("active");$scope.$parent.$broadcast("radioButton.select",ngModel.$viewValue)})}}}).directive("ionButtonRadio",function(){return{restrict:"CA",require:["?^ngModel","?^ionRadioButtons"],link:function($scope,$element,$attr,ctrls){var ngModel=ctrls[0],radioButtons=ctrls[1];if(ngModel&&radioButtons){var setIt=function(){$element.addClass("active"),ngModel.$setViewValue($scope.$eval($attr.ngValue)),radioButtons.select($element)},clickHandler=function(){setIt()};$scope.$on("radioButton.select",function(e,val){val==$scope.$eval($attr.ngValue)&&$element.addClass("active")}),ionic.on("tap",clickHandler,$element[0]),$scope.$on("$destroy",function(){ionic.off("tap",clickHandler)})}}}})}(window.ionic),function(){angular.module("ionic.ui.scroll",[]).directive("ionScroll",["$parse","$timeout","$controller",function($parse,$timeout,$controller){return{restrict:"E",replace:!0,template:'<div class="scroll-view"><div class="scroll" ng-transclude></div></div>',transclude:!0,scope:{direction:"@",paging:"@",onRefresh:"&",onScroll:"&",scroll:"@",scrollbarX:"@",scrollbarY:"@"},controller:function(){},compile:function(element,attr){function prelink($scope,$element){var scrollView,scrollCtrl,sc=$element[0].children[0];"true"==attr.padding&&sc.classList.add("padding"),$scope.$eval($scope.paging)===!0&&sc.classList.add("scroll-paging"),$scope.direction||($scope.direction="y");var isPaging=$scope.$eval($scope.paging)===!0,scrollViewOptions={el:$element[0],paging:isPaging,scrollbarX:$scope.$eval($scope.scrollbarX)!==!1,scrollbarY:$scope.$eval($scope.scrollbarY)!==!1,scrollingX:$scope.direction.indexOf("x")>=0,scrollingY:$scope.direction.indexOf("y")>=0};isPaging&&(scrollViewOptions.speedMultiplier=.8,scrollViewOptions.bouncing=!1),scrollCtrl=$controller("$ionicScroll",{$scope:$scope,scrollViewOptions:scrollViewOptions}),scrollView=$scope.$parent.scrollView=scrollCtrl.scrollView}return{pre:prelink}}}}])}(),function(){angular.module("ionic.ui.sideMenu",["ionic.service.gesture","ionic.service.view"]).run(["$ionicViewService",function($ionicViewService){$ionicViewService.disableRegisterByTagName("ion-side-menus")}]).directive("ionSideMenus",function(){return{restrict:"ECA",controller:["$scope","$attrs","$parse",function($scope,$attrs,$parse){angular.extend(this,ionic.controllers.SideMenuController.prototype),ionic.controllers.SideMenuController.call(this,{left:{width:275},right:{width:275}}),$scope.sideMenuContentTranslateX=0,$parse($attrs.model||"sideMenuController").assign($scope,this)}],replace:!0,transclude:!0,template:'<div class="view" ng-transclude></div>'}}).directive("ionSideMenuContent",["$timeout","$ionicGesture",function($timeout,$ionicGesture){return{restrict:"AC",require:"^ionSideMenus",scope:!0,compile:function(element,attr){return function($scope,$element,$attr,sideMenuCtrl){function contentTap(e){0!==sideMenuCtrl.getOpenAmount()&&(sideMenuCtrl.close(),e.gesture.srcEvent.preventDefault())}$element.addClass("menu-content"),angular.isDefined(attr.dragContent)?$scope.$watch(attr.dragContent,function(value){$scope.dragContent=value}):$scope.dragContent=!0;var defaultPrevented=!1,isDragging=!1;ionic.on("tap",contentTap,$element[0]);var dragFn=function(e){if($scope.dragContent){if(defaultPrevented||e.gesture.srcEvent.defaultPrevented)return;isDragging=!0,sideMenuCtrl._handleDrag(e),e.gesture.srcEvent.preventDefault()}},dragVertFn=function(e){isDragging&&e.gesture.srcEvent.preventDefault()},dragRightGesture=$ionicGesture.on("dragright",dragFn,$element),dragLeftGesture=$ionicGesture.on("dragleft",dragFn,$element),dragUpGesture=$ionicGesture.on("dragup",dragVertFn,$element),dragDownGesture=$ionicGesture.on("dragdown",dragVertFn,$element),dragReleaseFn=function(e){isDragging=!1,defaultPrevented||sideMenuCtrl._endDrag(e),defaultPrevented=!1},releaseGesture=$ionicGesture.on("release",dragReleaseFn,$element);sideMenuCtrl.setContent({onDrag:function(){},endDrag:function(){},getTranslateX:function(){return $scope.sideMenuContentTranslateX||0},setTranslateX:ionic.animationFrameThrottle(function(amount){$element[0].style[ionic.CSS.TRANSFORM]="translate3d("+amount+"px, 0, 0)",$timeout(function(){$scope.sideMenuContentTranslateX=amount})}),enableAnimation:function(){$scope.animationEnabled=!0,$element[0].classList.add("menu-animated")},disableAnimation:function(){$scope.animationEnabled=!1,$element[0].classList.remove("menu-animated")}}),$scope.$on("$destroy",function(){$ionicGesture.off(dragLeftGesture,"dragleft",dragFn),$ionicGesture.off(dragRightGesture,"dragright",dragFn),$ionicGesture.off(dragUpGesture,"dragup",dragFn),$ionicGesture.off(dragDownGesture,"dragdown",dragFn),$ionicGesture.off(releaseGesture,"release",dragReleaseFn),ionic.off("tap",contentTap,$element[0])})}}}}]).directive("ionSideMenu",function(){return{restrict:"E",require:"^ionSideMenus",replace:!0,transclude:!0,scope:!0,template:'<div class="menu menu-{{side}}"></div>',compile:function(element,attr,transclude){return angular.isUndefined(attr.isEnabled)&&attr.$set("isEnabled","true"),angular.isUndefined(attr.width)&&attr.$set("width","275"),function($scope,$element,$attr,sideMenuCtrl){$scope.side=$attr.side||"left";var sideMenu=sideMenuCtrl[$scope.side]=new ionic.views.SideMenu({width:275,el:$element[0],isEnabled:!0});$scope.$watch($attr.width,function(val){var numberVal=+val;numberVal&&numberVal==val&&sideMenu.setWidth(+val)}),$scope.$watch($attr.isEnabled,function(val){sideMenu.setIsEnabled(!!val)}),transclude($scope,function(clone){$element.append(clone)})}}}})}(),function(){angular.module("ionic.ui.slideBox",[]).directive("ionSlideBox",["$timeout","$compile","$ionicSlideBoxDelegate",function($timeout,$compile,$ionicSlideBoxDelegate){return{restrict:"E",replace:!0,transclude:!0,scope:{doesContinue:"@",slideInterval:"@",showPager:"@",disableScroll:"@",onSlideChanged:"&",activeSlide:"=?"},controller:["$scope","$element","$attrs","$parse",function($scope,$element,$attrs,$parse){var continuous=$scope.$eval($scope.doesContinue)===!0,slideInterval=continuous?$scope.$eval($scope.slideInterval)||4e3:0,slider=new ionic.views.Slider({el:$element[0],auto:slideInterval,disableScroll:$scope.$eval($scope.disableScroll)===!0||!1,continuous:continuous,startSlide:$scope.activeSlide,slidesChanged:function(){$scope.currentSlide=slider.currentIndex(),$timeout(function(){})},callback:function(slideIndex){$scope.currentSlide=slideIndex,$scope.onSlideChanged({index:$scope.currentSlide}),$scope.$parent.$broadcast("slideBox.slideChanged",slideIndex),$scope.activeSlide=slideIndex,$timeout(function(){})}});$scope.$watch("activeSlide",function(nv){angular.isDefined(nv)&&slider.slide(nv)}),$scope.$on("slideBox.nextSlide",function(){slider.next()}),$scope.$on("slideBox.prevSlide",function(){slider.prev()}),$scope.$on("slideBox.setSlide",function(e,index){slider.slide(index)}),$parse($attrs.model||"slideBoxController").assign($scope.$parent,slider),$ionicSlideBoxDelegate.register($scope,$element),this.slidesCount=function(){return slider.slidesCount()},$timeout(function(){slider.load()})}],template:'<div class="slider">            <div class="slider-slides" ng-transclude>            </div>          </div>',link:function($scope,$element){if($scope.$eval($scope.showPager)!==!1){var childScope=$scope.$new(),pager=angular.element("<ion-pager></ion-pager>");$element.append(pager),$compile(pager)(childScope)}}}}]).directive("ionSlide",function(){return{restrict:"E",require:"^ionSlideBox",compile:function(element){return element.addClass("slider-slide"),function(){}}}}).directive("ionPager",function(){return{restrict:"E",replace:!0,require:"^ionSlideBox",template:'<div class="slider-pager"><span class="slider-pager-page" ng-repeat="slide in numSlides() track by $index" ng-class="{active: $index == currentSlide}"><i class="icon ion-record"></i></span></div>',link:function($scope,$element,$attr,slideBox){var selectPage=function(index){for(var children=$element[0].children,length=children.length,i=0;length>i;i++)i==index?children[i].classList.add("active"):children[i].classList.remove("active")};$scope.numSlides=function(){return new Array(slideBox.slidesCount())},$scope.$watch("currentSlide",function(v){selectPage(v)})}}})}(),angular.module("ionic.ui.tabs",["ionic.service.view"]).run(["$ionicViewService",function($ionicViewService){$ionicViewService.disableRegisterByTagName("ion-tabs")}]).controller("ionicTabs",["$scope","$ionicViewService","$element",function($scope,$ionicViewService){var _selectedTab=null,self=this;self.tabs=[],self.selectedTabIndex=function(){return self.tabs.indexOf(_selectedTab)},self.selectedTab=function(){return _selectedTab},self.add=function(tab){$ionicViewService.registerHistory(tab),self.tabs.push(tab),1===self.tabs.length&&self.select(tab)},self.remove=function(tab){var tabIndex=self.tabs.indexOf(tab);if(-1!==tabIndex){if(tab.$tabSelected)if(self.deselect(tab),1===self.tabs.length);else{var newTabIndex=tabIndex===self.tabs.length-1?tabIndex-1:tabIndex+1;self.select(self.tabs[newTabIndex])}self.tabs.splice(tabIndex,1)}},self.deselect=function(tab){tab.$tabSelected&&(_selectedTab=null,tab.$tabSelected=!1,(tab.onDeselect||angular.noop)())},self.select=function(tab,shouldEmitEvent){var tabIndex;if(angular.isNumber(tab)?(tabIndex=tab,tab=self.tabs[tabIndex]):tabIndex=self.tabs.indexOf(tab),!tab||-1==tabIndex)throw new Error('Cannot select tab "'+tabIndex+'"!');if(_selectedTab&&_selectedTab.$historyId==tab.$historyId)shouldEmitEvent&&$ionicViewService.goToHistoryRoot(tab.$historyId);else if(angular.forEach(self.tabs,function(tab){self.deselect(tab)}),_selectedTab=tab,tab.$tabSelected=!0,(tab.onSelect||angular.noop)(),shouldEmitEvent){var viewData={type:"tab",tabIndex:tabIndex,historyId:tab.$historyId,navViewName:tab.navViewName,hasNavView:!!tab.navViewName,title:tab.title,url:tab.href,uiSref:tab.uiSref};$scope.$emit("viewState.changeHistory",viewData)}}}]).directive("ionTabs",["$ionicViewService","$ionicBind","$parse",function($ionicViewService,$ionicBind,$parse){return{restrict:"E",replace:!0,scope:!0,transclude:!0,controller:"ionicTabs",template:'<div class="view {{$animation}}"><div class="tabs {{$tabsStyle}} {{$tabsType}}"></div></div>',compile:function(element,attr,transclude){return angular.isUndefined(attr.tabsType)&&attr.$set("tabsType","tabs-positive"),function($scope,$element,$attr,tabsCtrl){$ionicBind($scope,$attr,{$animation:"@animation",$tabsStyle:"@tabsStyle",$tabsType:"@tabsType"}),$parse(attr.model||"tabsController").assign($scope,tabsCtrl),tabsCtrl.$scope=$scope,tabsCtrl.$element=$element,tabsCtrl.$tabsElement=angular.element($element[0].querySelector(".tabs")),transclude($scope,function(clone){$element.append(clone)})}}}}]).controller("ionicTab",["$scope","$ionicViewService","$rootScope","$element",function($scope){this.$scope=$scope}]).directive("ionTab",["$rootScope","$animate","$ionicBind","$compile","$ionicViewService",function($rootScope,$animate,$ionicBind,$compile,$ionicViewService){function attrStr(k,v){return angular.isDefined(v)?" "+k+'="'+v+'"':""}return{restrict:"E",require:["^ionTabs","ionTab"],replace:!0,controller:"ionicTab",scope:!0,compile:function(element,attr){var navView=element[0].querySelector("ion-nav-view")||element[0].querySelector("data-ion-nav-view"),navViewName=navView&&navView.getAttribute("name"),tabContent=angular.element('<div class="pane">').append(element.contents().remove());return function($scope,$element,$attr,ctrls){function selectTabIfMatchesState(){$ionicViewService.isCurrentStateNavView($scope.navViewName)&&tabsCtrl.select($scope)}var childScope,childElement,tabNavElement;tabsCtrl=ctrls[0],tabCtrl=ctrls[1],$ionicBind($scope,$attr,{animate:"=",onSelect:"&",onDeselect:"&",title:"@",uiSref:"@",href:"@"}),tabsCtrl.add($scope),$scope.$on("$destroy",function(){tabsCtrl.remove($scope),tabNavElement.isolateScope().$destroy(),tabNavElement.remove()}),navViewName&&($scope.navViewName=navViewName,$scope.$on("$stateChangeSuccess",selectTabIfMatchesState),selectTabIfMatchesState()),tabNavElement=angular.element("<ion-tab-nav"+attrStr("ng-click",attr.ngClick)+attrStr("title",attr.title)+attrStr("icon",attr.icon)+attrStr("icon-on",attr.iconOn)+attrStr("icon-off",attr.iconOff)+attrStr("badge",attr.badge)+attrStr("badge-style",attr.badgeStyle)+"></ion-tab-nav>"),tabNavElement.data("$ionTabsController",tabsCtrl),tabNavElement.data("$ionTabController",tabCtrl),tabsCtrl.$tabsElement.append($compile(tabNavElement)($scope)),$scope.$watch("$tabSelected",function(value){value||$scope.$broadcast("tab.hidden",$scope),childScope&&childScope.$destroy(),childScope=null,childElement&&$animate.leave(childElement),childElement=null,value&&(childScope=$scope.$new(),childElement=tabContent.clone(),$animate.enter(childElement,tabsCtrl.$element),$compile(childElement)(childScope),$scope.$broadcast("tab.shown",$scope))})}}}}]).directive("ionTabNav",["$ionicNgClick",function($ionicNgClick){return{restrict:"E",replace:!0,require:["^ionTabs","^ionTab"],template:'<a ng-class="{active: isTabActive(), \'has-badge\':badge}"  class="tab-item"><span class="badge {{badgeStyle}}" ng-if="badge">{{badge}}</span><i class="icon {{getIconOn()}}" ng-if="getIconOn() && isTabActive()"></i><i class="icon {{getIconOff()}}" ng-if="getIconOff() && !isTabActive()"></i><span class="tab-title" ng-bind-html="title"></span></a>',scope:{title:"@",icon:"@",iconOn:"@",iconOff:"@",badge:"=",badgeStyle:"@"},compile:function(){return function($scope,$element,$attrs,ctrls){var tabsCtrl=ctrls[0],tabCtrl=ctrls[1];$scope.selectTab=function(e){e.preventDefault(),tabsCtrl.select(tabCtrl.$scope,!0)},$attrs.ngClick||$ionicNgClick($scope,$element,"selectTab($event)"),$scope.getIconOn=function(){return $scope.iconOn||$scope.icon},$scope.getIconOff=function(){return $scope.iconOff||$scope.icon},$scope.isTabActive=function(){return tabsCtrl.selectedTab()===tabCtrl.$scope}}}}}]),function(ionic){angular.module("ionic.ui.toggle",[]).directive("ionToggle",["$ionicGesture","$timeout",function(){return{restrict:"E",replace:!0,require:"?ngModel",scope:{ngModel:"=?",ngValue:"=?",ngChecked:"=?",ngChange:"&",ngDisabled:"=?"},transclude:!0,template:'<div class="item item-toggle disable-pointer-events"><div ng-transclude></div><label class="toggle enable-pointer-events"><input type="checkbox" ng-model="ngModel" ng-value="ngValue" ng-change="ngChange()" ng-disabled="ngDisabled"><div class="track disable-pointer-events"><div class="handle"></div></div></label></div>',compile:function(element,attr){var input=element.find("input");return attr.name&&input.attr("name",attr.name),attr.ngChecked&&input.attr("ng-checked","ngChecked"),attr.ngTrueValue&&input.attr("ng-true-value",attr.ngTrueValue),attr.ngFalseValue&&input.attr("ng-false-value",attr.ngFalseValue),function($scope,$element){var el,checkbox,track,handle;el=$element[0].getElementsByTagName("label")[0],checkbox=el.children[0],track=el.children[1],handle=track.children[0];var ngModelController=angular.element(checkbox).controller("ngModel");$scope.toggle=new ionic.views.Toggle({el:el,track:track,checkbox:checkbox,handle:handle,onChange:function(){ngModelController.$setViewValue(checkbox.checked?!0:!1),$scope.$apply()}}),$scope.$on("$destroy",function(){$scope.toggle.destroy()})}}}}])}(window.ionic),function(angular,ionic){angular.module("ionic.ui.touch",[]).config(["$provide",function($provide){$provide.decorator("ngClickDirective",["$delegate",function($delegate){return $delegate.shift(),$delegate}])}]).factory("$ionicNgClick",["$parse",function($parse){function onTap(e){ionic.tapElement(e.target,e)}return function(scope,element,clickExpr){var clickHandler=$parse(clickExpr);element.on("click",function(event){scope.$apply(function(){clickHandler(scope,{$event:event})})}),ionic.on("tap",onTap,element[0]),element.onclick=function(){},scope.$on("$destroy",function(){ionic.off("tap",onTap,element[0])})}}]).directive("ngClick",["$ionicNgClick",function($ionicNgClick){return function(scope,element,attr){$ionicNgClick(scope,element,attr.ngClick)}}]).directive("ionStopEvent",function(){function stopEvent(e){e.stopPropagation()}return{restrict:"A",link:function(scope,element,attr){element.bind(attr.ionStopEvent,stopEvent)}}})}(window.angular,window.ionic),function(){angular.module("ionic.ui.viewState",["ionic.service.view","ionic.service.gesture","ngSanitize"]).directive("ionNavBar",["$ionicViewService","$rootScope","$animate","$compile",function($ionicViewService,$rootScope,$animate,$compile){return{restrict:"E",replace:!0,scope:{animation:"@",type:"@",backType:"@backButtonType",backLabel:"@backButtonLabel",backIcon:"@backButtonIcon",alignTitle:"@"},controller:function(){},template:'<header class="bar bar-header nav-bar{{navBarClass()}}"><ion-nav-back-button ng-if="(backType || backLabel || backIcon)" type="backType" label="backLabel" icon="backIcon" class="hide" ng-class="{\'hide\': !backButtonEnabled}"></ion-nav-back-button><div class="buttons left-buttons"> <button ng-click="button.tap($event)" ng-repeat="button in leftButtons" class="button no-animation {{button.type}}" ng-bind-html="button.content"></button></div><h1 ng-bind-html="title" class="title"></h1><div class="buttons right-buttons"> <button ng-click="button.tap($event)" ng-repeat="button in rightButtons" class="button no-animation {{button.type}}" ng-bind-html="button.content"></button></div></header>',compile:function(){return function($scope,$element){function updateHeaderData(data){angular.isDefined(data.hideBackButton)&&($scope.backButtonEnabled=!!data.hideBackButton),$scope.isReverse="back"==data.navDirection,$scope.animateEnabled=!(!data.navDirection||data.animate===!1),$scope.leftButtons=data.leftButtons,$scope.rightButtons=data.rightButtons,$scope.oldTitle=$scope.title,$scope.title=data&&data.title||"",$scope.oldTitle!==$scope.title&&($scope.animateEnabled?animateTitles():hb.align())}function animateTitles(){var oldTitleEl,newTitleEl,currentTitles;currentTitles=$element[0].querySelectorAll(".title"),currentTitles.length&&(oldTitleEl=$compile('<h1 class="title" ng-bind-html="oldTitle"></h1>')($scope),angular.element(currentTitles[0]).replaceWith(oldTitleEl)),newTitleEl=$compile('<h1 class="title invisible" ng-bind-html="title"></h1>')($scope),ionic.requestAnimationFrame(function(){oldTitleEl&&$animate.leave(angular.element(oldTitleEl));var insert=oldTitleEl&&angular.element(oldTitleEl)||null;$animate.enter(newTitleEl,$element,insert,function(){hb.align()}),angular.forEach(currentTitles,function(el){el&&el.parentNode&&angular.element(el).remove()}),$scope.$digest(),ionic.requestAnimationFrame(function(){newTitleEl[0].classList.remove("invisible")})})}$scope.backButtonEnabled=!1,$scope.animateEnabled=!0,$scope.isReverse=!1,$scope.isInvisible=!0,$scope.navBarClass=function(){return($scope.type?" "+$scope.type:"")+($scope.isReverse?" reverse":"")+($scope.isInvisible?" invisible":"")+(!$scope.animationDisabled&&$scope.animation?" "+$scope.animation:"")};var hb=new ionic.views.HeaderBar({el:$element[0],alignTitle:$scope.alignTitle||"center"});$scope.headerBarView=hb,$scope.$on("viewState.viewEnter",function(e,data){updateHeaderData(data)}),$scope.$on("viewState.showNavBar",function(e,showNavBar){$scope.isInvisible=!showNavBar});var unregisterEventListeners=[$scope.$parent.$on("$viewHistory.historyChange",function(e,data){$scope.backButtonEnabled=!!data.showBack}),$scope.$parent.$on("viewState.leftButtonsChanged",function(e,data){$scope.leftButtons=data}),$scope.$parent.$on("viewState.rightButtonsChanged",function(e,data){$scope.rightButtons=data}),$scope.$parent.$on("viewState.showBackButton",function(e,data){$scope.backButtonEnabled=!!data}),$scope.$parent.$on("viewState.titleUpdated",function(e,data){$scope.title=data&&data.title||""})];$scope.$on("$destroy",function(){for(var i=0;i<unregisterEventListeners.length;i++)unregisterEventListeners[i]()})}}}}]).directive("ionView",["$ionicViewService","$rootScope","$animate",function($ionicViewService,$rootScope){return{restrict:"EA",priority:1e3,scope:{leftButtons:"=",rightButtons:"=",title:"@",hideBackButton:"@",hideNavBar:"@"},compile:function(tElement){return tElement.addClass("pane"),tElement[0].removeAttribute("title"),function($scope){$rootScope.$broadcast("viewState.viewEnter",{title:$scope.title,navDirection:$scope.$navDirection||$scope.$parent.$navDirection}),$scope.hideBackButton=$scope.$eval($scope.hideBackButton),$scope.hideBackButton&&$rootScope.$broadcast("viewState.showBackButton",!1),$rootScope.$broadcast("viewState.showNavBar","true"!==$scope.hideNavBar),$scope.$watch("leftButtons",function(){$scope.$emit("viewState.leftButtonsChanged",$scope.leftButtons)}),$scope.$watch("rightButtons",function(){$scope.$emit("viewState.rightButtonsChanged",$scope.rightButtons)}),$scope.$watch("title",function(){$scope.$emit("viewState.titleUpdated",$scope)})}}}}]).directive("ionNavBackButton",["$ionicViewService","$rootScope",function($ionicViewService){function goBack(e){var backView=$ionicViewService.getBackView();return backView&&backView.go(),e.alreadyHandled=!0,!1}return{restrict:"E",scope:{type:"=",label:"=",icon:"="},replace:!0,template:'<button ng-click="goBack($event)" class="button back-button {{type}} {{(icon && !label) ? \'icon \' + icon : \'\'}}"><i ng-if="icon && label" class="icon {{icon}}"></i> {{label}}</button>',link:function($scope){$scope.goBack=goBack
}}}]).directive("ionNavView",["$ionicViewService","$state","$compile","$controller","$animate",function($ionicViewService,$state,$compile,$controller,$animate){var viewIsUpdating=!1,directive={restrict:"E",terminal:!0,priority:2e3,transclude:!0,controller:["$scope",function($scope){this.setNextAnimation=function(anim){$scope.$nextAnimation=anim}}],compile:function(element,attr,transclude){return function(scope,element,attr){function updateView(doAnimate){$animate.enabled()===!1&&(doAnimate=!1);var locals=$state.$current&&$state.$current.locals[name];if(locals!==viewLocals){var renderer=$ionicViewService.getRenderer(element,attr,scope);if(viewScope&&(viewScope.$destroy(),viewScope=null),!locals)return viewLocals=null,view.state=null,element.append(initialView);var newElement=angular.element("<div></div>").html(locals.$template).contents(),viewRegisterData=renderer().register(newElement);renderer(doAnimate).leave(),viewLocals=locals,view.state=locals.$$state,renderer(doAnimate).enter(newElement);var link=$compile(newElement);if(viewScope=scope.$new(),viewScope.$navDirection=viewRegisterData.navDirection,locals.$$controller){locals.$scope=viewScope;var controller=$controller(locals.$$controller,locals);element.children().data("$ngControllerController",controller)}link(viewScope);var viewHistoryData=$ionicViewService._getViewById(viewRegisterData.viewId)||{};viewScope.$broadcast("$viewContentLoaded",viewHistoryData),onloadExp&&viewScope.$eval(onloadExp),newElement=null}}var viewScope,viewLocals,name=attr[directive.name]||attr.name||"",onloadExp=attr.onload||"",initialView=transclude(scope);element.append(initialView);var parent=element.parent().inheritedData("$uiView");name.indexOf("@")<0&&(name=name+"@"+(parent?parent.state.name:""));var view={name:name,state:null};element.data("$uiView",view);var eventHook=function(){if(!viewIsUpdating){viewIsUpdating=!0;try{updateView(!0)}catch(e){throw viewIsUpdating=!1,e}viewIsUpdating=!1}};scope.$on("$stateChangeSuccess",eventHook),scope.$on("$viewContentLoading",eventHook),updateView(!1)}}};return directive}])}(),function(){angular.module("ionic.ui.virtRepeat",[]).directive("ionVirtRepeat",function(){return{require:["?ngModel","^virtualList"],transclude:"element",priority:1e3,terminal:!0,compile:function(){return function($scope,$element,$attr,ctrls){var virtualList=ctrls[1];virtualList.listView.renderViewport=function(){}}}}})}(ionic),function(){function parseRepeatExpression(expression){var match=expression.match(/^\s*([\$\w]+)\s+in\s+(\S*)\s*$/);if(!match)throw new Error("Expected sfVirtualRepeat in form of '_item_ in _collection_' but got '"+expression+"'.");return{value:match[1],collection:match[2]}}function setViewportCss(viewport){var viewportCss={overflow:"auto"},style=window.getComputedStyle?window.getComputedStyle(viewport[0]):viewport[0].currentStyle,maxHeight=style&&style.getPropertyValue("max-height"),height=style&&style.getPropertyValue("height");maxHeight&&"0px"!==maxHeight?viewportCss.maxHeight=maxHeight:viewportCss.height=height&&"0px"!==height?height:window.innerHeight,viewport.css(viewportCss)}function setContentCss(content){var contentCss={margin:0,padding:0,border:0,"box-sizing":"border-box"};content.css(contentCss)}function computeRowHeight(element){var style=window.getComputedStyle?window.getComputedStyle(element):element.currentStyle,maxHeight=style&&style.getPropertyValue("max-height"),height=style&&style.getPropertyValue("height");if(height&&"0px"!==height&&"auto"!==height)$log.info('Row height is "%s" from css height',height);else if(maxHeight&&"0px"!==maxHeight&&"none"!==maxHeight)height=maxHeight,$log.info('Row height is "%s" from css max-height',height);else{if(!element.clientHeight)throw new Error("Unable to compute height of row");height=element.clientHeight+"px",$log.info('Row height is "%s" from client height',height)}return angular.element(element).css("height",height),parseInt(height,10)}angular.module("ionic.ui.virtualRepeat",[]).directive("ionVirtualRepeat",["$log",function($log){return{require:["?ngModel, ^virtualList"],transclude:"element",priority:1e3,terminal:!0,compile:function(element,attr){var ident=parseRepeatExpression(attr.sfVirtualRepeat);return function(scope,iterStartElement,attrs,ctrls){function makeNewScope(idx,collection,containerScope){var childScope=containerScope.$new();return childScope[ident.value]=collection[idx],childScope.$index=idx,childScope.$first=0===idx,childScope.$last=idx===collection.length-1,childScope.$middle=!(childScope.$first||childScope.$last),childScope.$watch(function(){childScope[ident.value]=collection[idx]}),childScope}function addElements(start,end,collection,containerScope,insPoint){var element,idx,childScope,frag=document.createDocumentFragment(),newElements=[];for(idx=start;idx!==end;idx++)childScope=makeNewScope(idx,collection,containerScope),element=linker(childScope,angular.noop),newElements.push(element),frag.appendChild(element[0]);return insPoint.after(frag),newElements}function recomputeActive(){var start=clip(state.firstActive,state.firstVisible-state.lowWater,state.firstVisible-state.highWater),end=clip(state.firstActive+state.active,state.firstVisible+state.visible+state.lowWater,state.firstVisible+state.visible+state.highWater);state.firstActive=Math.max(0,start),state.active=Math.min(end,state.total)-state.firstActive}function sfVirtualRepeatOnScroll(evt){rowHeight&&scope.$apply(function(){state.firstVisible=Math.floor(evt.target.scrollTop/rowHeight),state.visible=Math.ceil(dom.viewport[0].clientHeight/rowHeight),$log.log("scroll to row %o",state.firstVisible),sticky=evt.target.scrollTop+evt.target.clientHeight>=evt.target.scrollHeight,recomputeActive(),$log.log(" state is now %o",state),$log.log(" sticky = %o",sticky)})}function sfVirtualRepeatWatchExpression(scope){var coll=scope.$eval(ident.collection);return coll.length!==state.total&&(state.total=coll.length,recomputeActive()),{start:state.firstActive,active:state.active,len:coll.length}}function destroyActiveElements(action,count){var dead,ii,remover=Array.prototype[action];for(ii=0;count>ii;ii++)dead=remover.call(rendered),dead.scope().$destroy(),dead.remove()}function sfVirtualRepeatListener(newValue,oldValue,scope){var newElements,oldEnd=oldValue.start+oldValue.active,collection=scope.$eval(ident.collection);if(newValue===oldValue)$log.info("initial listen"),newElements=addElements(newValue.start,oldEnd,collection,scope,iterStartElement),rendered=newElements,rendered.length&&(rowHeight=computeRowHeight(newElements[0][0]));else{var newEnd=newValue.start+newValue.active,forward=newValue.start>=oldValue.start,delta=forward?newValue.start-oldValue.start:oldValue.start-newValue.start,endDelta=newEnd>=oldEnd?newEnd-oldEnd:oldEnd-newEnd,contiguous=delta<(forward?oldValue.active:newValue.active);if($log.info("change by %o,%o rows %s",delta,endDelta,forward?"forward":"backward"),contiguous){if(forward?($log.info("need to remove from the top"),destroyActiveElements("shift",delta)):delta&&($log.info("need to add at the top"),newElements=addElements(newValue.start,oldValue.start,collection,scope,iterStartElement),rendered=newElements.concat(rendered)),oldEnd>newEnd)$log.info("need to remove from the bottom"),destroyActiveElements("pop",oldEnd-newEnd);else if(endDelta){var lastElement=rendered[rendered.length-1];$log.info("need to add to the bottom"),newElements=addElements(oldEnd,newEnd,collection,scope,lastElement),rendered=rendered.concat(newElements)}}else $log.info("non-contiguous change"),destroyActiveElements("pop",rendered.length),rendered=addElements(newValue.start,newEnd,collection,scope,iterStartElement);!rowHeight&&rendered.length&&(rowHeight=computeRowHeight(rendered[0][0])),dom.content.css({"padding-top":newValue.start*rowHeight+"px"})}dom.content.css({height:newValue.len*rowHeight+"px"}),sticky&&(dom.viewport[0].scrollTop=dom.viewport[0].clientHeight+dom.viewport[0].scrollHeight)}var virtualList=ctrls[1],rendered=[],rowHeight=0,sticky=!1,dom=virtualList.element,state="ngModel"in attrs?scope.$eval(attrs.ngModel):{};state.firstActive=0,state.firstVisible=0,state.visible=0,state.active=0,state.total=0,state.lowWater=state.lowWater||100,state.highWater=state.highWater||300,setContentCss(dom.content),setViewportCss(dom.viewport),dom.bind("momentumScrolled",sfVirtualRepeatOnScroll),scope.$on("$destroy",function(){dom.unbind("momentumScrolled",sfVirtualRepeatOnScroll)}),scope.$watch(sfVirtualRepeatWatchExpression,sfVirtualRepeatListener,!0)}}}}])}(ionic),function(){angular.module("ionic.ui.scroll").controller("$ionicScroll",["$scope","scrollViewOptions","$timeout","$ionicScrollDelegate","$window",function($scope,scrollViewOptions,$timeout,$ionicScrollDelegate,$window){function resize(){scrollView.resize()}var self=this,element=this.element=scrollViewOptions.el,scrollView=this.scrollView=new ionic.views.Scroll(scrollViewOptions);angular.isDefined(scrollViewOptions.bouncing)||ionic.Platform.ready(function(){scrollView.options.bouncing=!ionic.Platform.isAndroid()});var $element=this.$element=angular.element(element);$element.data("$$ionicScrollController",this),$ionicScrollDelegate.register($scope,$element,scrollView),$window.addEventListener("resize",resize),$scope.$on("$destroy",function(){$window.removeEventListener("resize",resize)}),this.setRefresher=function(refresherScope,refresherElement){var refresher=this.refresher=refresherElement,refresherHeight=self.refresher.clientHeight||0;scrollView.activatePullToRefresh(refresherHeight,function(){refresher.classList.add("active"),refresherScope.$onPulling()},function(){refresher.classList.remove("refreshing"),refresher.classList.remove("active")},function(){refresher.classList.add("refreshing"),refresherScope.$onRefresh()})},$timeout(function(){scrollView.run()})}])}();